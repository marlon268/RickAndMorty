{"version":3,"sources":["context/ThemeContext.js","components/Header.jsx","components/Search.jsx","hooks/useCharacters.js","components/Characters.jsx","App.js","reportWebVitals.js","index.js"],"names":["ThemeContext","React","createContext","ThemeContextProvider","children","useState","theme","setTheme","Provider","value","Header","handleClick","useContext","className","type","onClick","Search","search","searchInput","handleSearch","ref","onChange","placeholder","useCharacters","url","characters","setCharacters","useEffect","fetch","then","response","json","data","results","initialState","favorites","favoriteReducer","state","action","find","item","id","payload","filter","items","Characters","useReducer","dispatch","setSearch","useRef","useCallback","current","filteredUsers","useMemo","user","name","toLowerCase","includes","length","map","favorite","src","image","alt","character","species","status","origin","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1787ac54.chunk.js","sourcesContent":["import React, { useState } from 'react'\r\n\r\nconst ThemeContext = React.createContext({});\r\n\r\nexport function ThemeContextProvider({ children }) {\r\n    const [theme, setTheme] = useState(true);\r\n\r\n    return(\r\n        <ThemeContext.Provider value={{ theme, setTheme}}>\r\n            {children}\r\n        </ThemeContext.Provider>\r\n    )\r\n}\r\n\r\nexport default ThemeContext;","import { useContext } from \"react\";\r\nimport ThemeContext from \"../context/ThemeContext.js\";\r\nimport \"../styles/Header.css\";\r\n\r\nconst Header = ({ handleClick }) => {\r\n  const { theme } = useContext(ThemeContext);\r\n\r\n  return (\r\n    <div className=\"Header\">\r\n      <h1>Rick And Morty</h1>\r\n      <div className=\"Header-button\">\r\n        <button\r\n          type=\"button\"\r\n          onClick={handleClick}\r\n          className={!theme ? \"button button-dark\" : \"button button-light\"}\r\n        >\r\n          {theme ? \"Dark mode\" : \"Light mode\"}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\n\r\nconst Search = ({ search, searchInput, handleSearch}) => {\r\n  return (\r\n    <div className=\"Search\">\r\n      <input\r\n        className=\"Search-input\"\r\n        type=\"text\"\r\n        value={search}\r\n        ref={searchInput}\r\n        onChange={handleSearch}\r\n        placeholder=\"Character search\"\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Search;\r\n","import { useState, useEffect } from \"react\";\r\n\r\n\r\nconst useCharacters = url => {\r\n    const [characters, setCharacters] = useState([]);\r\n    useEffect(() => {\r\n        fetch(url)\r\n          .then((response) => response.json())\r\n          .then((data) => setCharacters(data.results));\r\n      }, [url]);\r\n      return characters;\r\n};\r\n\r\nexport default useCharacters;","import {\r\n  useState,\r\n  useReducer,\r\n  useMemo,\r\n  useRef,\r\n  useCallback,\r\n} from \"react\";\r\nimport \"../styles/Characters.css\";\r\nimport Search from \"./Search\";\r\nimport useCharacters from \"../hooks/useCharacters.js\"\r\n\r\nconst initialState = {\r\n  favorites: [],\r\n};\r\n\r\nconst API = 'https://rickandmortyapi.com/api/character'\r\n\r\nconst favoriteReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"APP_TO_FAVORITE\":\r\n      if (state.favorites.find((item) => item.id === action.payload.id)) {\r\n        return {\r\n          ...state,\r\n        };\r\n      } else {\r\n        return {\r\n          ...state,\r\n          favorites: [...state.favorites, action.payload],\r\n        };\r\n      }\r\n    case \"REMOVE_FAVORITE\":\r\n      return {\r\n        ...state,\r\n        favorites: state.favorites.filter(\r\n          (items) => items.id !== action.payload\r\n        ),\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst Characters = () => {\r\n  const [favorites, dispatch] = useReducer(favoriteReducer, initialState);\r\n  const [search, setSearch] = useState(\"\");\r\n  const searchInput = useRef(null);\r\n\r\n\r\n  // Usamos nuestro custom hook creado con useState y useEfect para separar la\r\n  // logica de nuestros componentes\r\n  const characters = useCharacters(API)\r\n\r\n  \r\n  // useEffect se ejecuta despues del primer renderizado de la pagina\r\n  // es el lugar ideal para hacer un llamada a una api. Este recibe dos\r\n  // parametros el primero lo que va hacer y el segundo lo que va a estar\r\n  // escuchando a que cambie para volverse a ejecutar\r\n  /* useEffect(() => {\r\n    fetch(\"https://rickandmortyapi.com/api/character/\")\r\n      .then((response) => response.json())\r\n      .then((data) => setCharacters(data.results));\r\n  }, []); */\r\n\r\n\r\n  // Esta funcion nos añade al array de favorites el character que le se pase\r\n  // por parametro (favorite) y lo añade con la ayuda de el useReducer\r\n  const handleClickAdd = (favorite) => {\r\n    dispatch({ type: \"APP_TO_FAVORITE\", payload: favorite });\r\n  };\r\n\r\n\r\n  // Esta funcion elimina los personajes de favoritos mediante el id\r\n  // que estos tengan\r\n  const handleClickRemove = (id) => {\r\n    dispatch({ type: \"REMOVE_FAVORITE\", payload: id });\r\n  };\r\n\r\n\r\n\r\n  // Esta funcion me captura el evento onChange y lo incerta en el estado\r\n  // search creado anteriormente. Cambios el evento onChange con el uso de\r\n  // useRef para capturar lo que se escribe en el input de una forma mas amigable\r\n  // y con menos bugs\r\n  /* const handleSearch = () => {\r\n    setSearch(searchInput.current.value);\r\n  }; */\r\n\r\n\r\n\r\n  //Cada vez que hacemos un render se vuelve a construir las referencias a las\r\n  // funciones La solución para este problema es usar useCallback el cual solo\r\n  // genera una referencia para una función, es decir que memoriza la funcion\r\n  // a través de la lista de dependencias que mandamos cuando lo generamos,\r\n  // estamos indicando cuando debe volver a memorizar esa función, es decir cuando \r\n  // cambien esos valores, esto es útil cuando se transfieren callbacks a \r\n  //componentes hijos optimizados que dependen de la igualdad de referencia \r\n  //para evitar renders innecesarios\r\n  const handleSearch = useCallback(() => {\r\n    setSearch(searchInput.current.value);\r\n  }, []);\r\n\r\n\r\n  // Esta funcion toma lo que se a introducido en el search y filtra los characters\r\n  // por su name que este search tenga incluido ignorando mayusculas\r\n  /* const filteredUsers = characters.filter((user) => {\r\n    return user.name.toLowerCase().includes(search.toLowerCase());\r\n  }); */\r\n\r\n\r\n  // Usamos useMemo para hacer memoizacion, esto nos permite almacenar los resultados de una función\r\n  // para que, en caso de enviar los mismo argumentos que antes, ésta no haga los cálculos otra\r\n  // vez sino que devuelva el resultado que registró antes.\r\n  const filteredUsers = useMemo(\r\n    () =>\r\n      characters.filter((user) => {\r\n        return user.name.toLowerCase().includes(search.toLowerCase());\r\n      }),\r\n    [characters, search]\r\n  );\r\n\r\n  return (\r\n    <main>\r\n      <h1>{favorites.favorites.length ? \"Favorites\" : \"\"}</h1>\r\n      <div className=\"Characters-favorites\">\r\n        {favorites.favorites.map((favorite) => (\r\n          <div key={favorite.id} className=\"Character-favotire\">\r\n            <h5>{favorite.name}</h5>\r\n            <img\r\n              className=\"favorites\"\r\n              src={favorite.image}\r\n              alt={favorite.name}\r\n            />\r\n            <button\r\n              className=\"boton-borrar\"\r\n              type=\"button\"\r\n              onClick={() => handleClickRemove(favorite.id)}\r\n            >\r\n              X\r\n            </button>\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      <h1>Characters</h1>\r\n      <Search\r\n        search={search}\r\n        searchInput={searchInput}\r\n        handleSearch={handleSearch}\r\n      />\r\n\r\n      <div className=\"Characters\">\r\n        {filteredUsers.map((character) => (\r\n          <div key={character.id} className=\"Characters-container\">\r\n            <img src={character.image} alt=\"\" />\r\n            <h1>{character.name}</h1>\r\n            <h5>Especies: {character.species}</h5>\r\n            <h5>Status: {character.status}</h5>\r\n            <h5>Origin: {character.origin.name}</h5>\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => handleClickAdd(character)}\r\n              className=\"boton-añadir\"\r\n            >\r\n              add to Favorites\r\n            </button>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default Characters;\r\n\r\n// En la mayor parte del tiempo no deberias molestarte en optimizar re-renders\r\n// inncesarios con useMemo. Usalo siempre en cuando el rendering toma una gran\r\n// cantidad de tiempo como en interacciones muy altas (Graphs/Charts/Animations/etc.)\r\n","import Header from './components/Header.jsx'\nimport Characters from \"./components/Characters.jsx\"\nimport ThemeContext from \"./context/ThemeContext.js\"\nimport { useContext } from 'react';\n\nfunction App() {\n  const {theme, setTheme} = useContext(ThemeContext);\n  const handleClick = () => {\n    setTheme(!theme)\n  };\n  return (\n    <div className={theme ? 'light-mode contenedor' : 'dark-mode contenedor'}>\n      <Header handleClick={handleClick} />\n      <Characters/>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { ThemeContextProvider } from \"./context/ThemeContext.js\"\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport 'bootstrap-icons/font/bootstrap-icons.css'\n\n//Context nos da un provider donde encapsulamos toda la informacio\n\nReactDOM.render(\n  <React.StrictMode>\n    <ThemeContextProvider>\n      <App />\n    </ThemeContextProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}